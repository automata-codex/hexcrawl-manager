---
import Card from '../../../components/Card.astro';
import CardGrid from '../../../components/CardGrid.astro';
import SecretLayout from '../../../layouts/SecretLayout.astro';
import { knowledgeTrees } from '../../../utils/knowledge-trees';

// Convert the knowledge trees object to an array and sort by name
const trees = Object.entries(knowledgeTrees)
  .map(([id, tree]) => ({
    id,
    name: tree.name,
    description: tree.description,
  }))
  .sort((a, b) => a.name.localeCompare(b.name));
---

<SecretLayout title="Knowledge Trees">
  <CardGrid>
    {
      trees.map((tree) => (
        <Card title={tree.name} href={`/gm-reference/knowledge-trees/${tree.id}`}>
          <p>{tree.description}</p>
        </Card>
      ))
    }
  </CardGrid>
</SecretLayout>
