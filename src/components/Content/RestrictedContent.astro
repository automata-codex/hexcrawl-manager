---
import { canAccess, getCurrentUserRole } from '../../utils/auth';
import { SCOPES } from '../../utils/constants';
import type { Scope } from '../../types.ts';

interface Props {
  scope?: Scope;
}

const { scope = SCOPES.PLAYER } = Astro.props;
const role = getCurrentUserRole(Astro.locals);
---
{canAccess(role, [scope]) && <slot />}
