---
import { getCollection } from 'astro:content';
import SecretLayout from '../../../layouts/SecretLayout.astro';
import Faction from '../../../components/Faction.astro';

const factionData = await getCollection('factions');
const factions = factionData
  .map((entry) => entry.data)
  .sort((a, b) => a.name.localeCompare(b.name));

---
<SecretLayout title="Factions">
  {factions.map((faction) => (<Faction faction={faction} />))}
</SecretLayout>
