---
import { getCollection } from 'astro:content';

import GmHexDetails from '../../components/HexData/GmHexDetails.astro';
import SecretLayout from '../../layouts/SecretLayout.astro';
import { getHexColumn, getHexRow } from '../../utils/id-parsers';
import { hexSort } from '../../utils/sort';

const hexData = await getCollection('hexes');
const hexes = hexData
  .map((hex) => hex.data)
  .sort(hexSort)
  .filter((hex) => !hex.hideInCatalog);
const title = 'Baruun Khil Hex Catalog';
---
<style>
    h2 {
        color: var(--bulma-text-strong);
        font-size: 1.5rem;
    }
</style>
<SecretLayout title={title}>
  <main>
    {
      hexes.map((hex) =>
        <h2>{hex.id.toUpperCase()}: {hex.name}</h2>
        <GmHexDetails hex={hex} showSelfLink={true} />)
    }
  </main>
</SecretLayout>
