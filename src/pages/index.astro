---
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';
import { getRegionTitle } from '../utils/id-parsers';

const regions = await getCollection('regions');
const regionLinks = regions.map(region => ({
  href: `/${region.id}`,
  name: `${getRegionTitle(region.id)}: ${region.data.name}`
}));

const title = 'Beyond the Skyreach Mountains';
---
<Layout title={title}>
  <h1>{title}</h1>
  <h2>Hex Catalog</h2>
  <ul><li><a href="/hex-catalog">Hex Catalog</a></li></ul>
  <h2>Regions</h2>
  <ul>
    {regionLinks.map(link => (
      <li><a href={link.href}>{link.name}</a></li>
    ))}
  </ul>
</Layout>
