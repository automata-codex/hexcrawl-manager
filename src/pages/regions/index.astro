---
import { getCollection } from 'astro:content';
import Layout from '../../layouts/Layout.astro';
import { getRegionTitle } from '../../utils/id-parsers';

const regions = await getCollection('regions');
const regionLinks = regions.map(region => ({
  href: `/regions/${region.id}`,
  name: `${getRegionTitle(region.id)}: ${region.data.name}`
}));

const title = 'Baruun Khil Regions';
---
<style>
    .list-columns {
        columns: 2;
    }
</style>
<Layout title={title}>
  <section class="section">
    <div class="container is-max-desktop">
      <h1 class="title is-2">{title}</h1>
      <div class="list-columns">
        <ul>
          {regionLinks.map(link => (
            <li><a href={link.href}>{link.name}</a></li>
          ))}
        </ul>
      </div>
    </div>
  </section>
</Layout>
