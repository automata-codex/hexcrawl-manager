---
import { getCollection } from 'astro:content';

import GmHexDetails from '../../../components/HexData/GmHexDetails.astro';
import Search from '../../../components/HexData/Search.svelte';
import SecretLayout from '../../../layouts/SecretLayout.astro';
import { hexSort } from '../../../utils/sort';

const hexData = await getCollection('hexes');
const hexes = hexData
  .map((hex) => hex.data)
  .sort(hexSort)
  .filter((hex) => !hex.hideInCatalog);
const title = 'Baruun Khil Hex Catalog';
---
<SecretLayout title={title}>
  <main>
    {
      hexes.map((hex) =>
        <h2 class="title is-3">{hex.id.toUpperCase()}: {hex.name}</h2>
        <GmHexDetails hex={hex} showSelfLink={true} />)
    }
  </main>
</SecretLayout>
