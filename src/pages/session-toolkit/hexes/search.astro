---
import SecretLayout from '../../../layouts/SecretLayout.astro';
import HexSearch from '../../../components/HexDetails/HexSearch.svelte';
import { getCollection } from 'astro:content';
import { hexSort } from '../../../utils/sort';

const dungeons = await getCollection('dungeons');
const hexEntries = await getCollection('hexes');
const hexData = hexEntries
  .map((entry) => entry.data)
  .sort(hexSort)
  .filter((hex) => !hex.hideInCatalog);
---
<SecretLayout title="Hex Search">
  <HexSearch client:load dungeons={dungeons} hexes={hexData} />
</SecretLayout>
